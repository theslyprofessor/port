const canvas = document.getElementById('osci');
const context = canvas.getContext('2d');
let block = 0;

context.fillStyle = '#000';
context.fillRect(0, 0, 1024, 480); // canvas.width canvas.height

const socket = io.connect();

socket.on('connect', () => {
	socket.on('data', (data) => {
		const l = data.length;
		context.fillStyle = '#000';
		context.fillRect(block * 256, 0, 256, 480);
		
		context.fillStyle = '#0f0';
		for (let i = 0; i < l; i += 1){
			context.fillRect(i + (block * 256), parseInt(data[i] * 240) + 240, 1, 1);
		}
		block = (block + 1) % 4;
	});
});


// const canvas = document.getElementById('osci');
// const context = canvas.getContext('2d');
// let block = 0;

// context.fillStyle = '#000';
// context.fillRect(0, 0, 1024, 480); // canvas.width canvas.height

// const socket = io.connect();

// socket.on('connect', () => {
// 	socket.on('data', (data) => {
// 		const l = data.length;
// 		context.fillStyle = '#000';
// 		context.fillRect(block * 256, 0, 256, 480);
		
// 		context.fillStyle = '#0f0';
// 		for (let i = 0; i < l; i += 1){
// 			context.fillRect(i + (block * 256), parseInt(data[i] * 240) + 240, 1, 1);
// 		}
// 		block = (block + 1) % 4;
// 	});
// });
